(function() {
  var CommandRunner, Editor, RunCommandView;

  Editor = require('atom').Editor;

  CommandRunner = require('../lib/command-runner');

  RunCommandView = require('../lib/run-command-view');

  describe("RunCommandView", function() {
    beforeEach(function() {
      this.runner = new CommandRunner();
      return this.view = new RunCommandView(this.runner);
    });
    it("runs a command on confirmation", function() {
      spyOn(this.runner, 'run');
      this.view.commandEntryView.setText('echo "foo"');
      this.view.confirm();
      return expect(this.runner.run).toHaveBeenCalledWith('echo "foo"');
    });
    it("doesn't run empty commands", function() {
      spyOn(this.runner, 'run');
      this.view.commandEntryView.setText('  \n  \t\r\n');
      this.view.confirm();
      return expect(this.runner.run).not.toHaveBeenCalled();
    });
    it("hides itself on cancellation", function() {
      spyOn(this.runner, 'run');
      spyOn(this.view, 'hide');
      this.view.commandEntryView.setText('echo "foo"');
      this.view.cancel();
      expect(this.view.hide).toHaveBeenCalled();
      return expect(this.runner.run).not.toHaveBeenCalled();
    });
    return it("cancels the view when the command entry view loses focus", function() {
      spyOn(this.view, 'cancel');
      this.view.focus();
      this.view.commandEntryView.blur();
      return expect(this.view.cancel).toHaveBeenCalled();
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL1VzZXJzL2Jyb2JlcnRvLy5hdG9tL3BhY2thZ2VzL3J1bi1jb21tYW5kL3NwZWMvcnVuLWNvbW1hbmQtdmlldy1zcGVjLmNvZmZlZSIKICBdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICJBQUFBO0FBQUEsTUFBQSxxQ0FBQTs7QUFBQSxFQUFDLFNBQVUsT0FBQSxDQUFRLE1BQVIsRUFBVixNQUFELENBQUE7O0FBQUEsRUFDQSxhQUFBLEdBQWdCLE9BQUEsQ0FBUSx1QkFBUixDQURoQixDQUFBOztBQUFBLEVBRUEsY0FBQSxHQUFpQixPQUFBLENBQVEseUJBQVIsQ0FGakIsQ0FBQTs7QUFBQSxFQUlBLFFBQUEsQ0FBUyxnQkFBVCxFQUEyQixTQUFBLEdBQUE7QUFDekIsSUFBQSxVQUFBLENBQVcsU0FBQSxHQUFBO0FBQ1QsTUFBQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsYUFBQSxDQUFBLENBQWQsQ0FBQTthQUNBLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxjQUFBLENBQWUsSUFBQyxDQUFBLE1BQWhCLEVBRkg7SUFBQSxDQUFYLENBQUEsQ0FBQTtBQUFBLElBSUEsRUFBQSxDQUFHLGdDQUFILEVBQXFDLFNBQUEsR0FBQTtBQUNuQyxNQUFBLEtBQUEsQ0FBTSxJQUFDLENBQUEsTUFBUCxFQUFlLEtBQWYsQ0FBQSxDQUFBO0FBQUEsTUFFQSxJQUFDLENBQUEsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQXZCLENBQStCLFlBQS9CLENBRkEsQ0FBQTtBQUFBLE1BR0EsSUFBQyxDQUFBLElBQUksQ0FBQyxPQUFOLENBQUEsQ0FIQSxDQUFBO2FBS0EsTUFBQSxDQUFPLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBZixDQUFtQixDQUFDLG9CQUFwQixDQUF5QyxZQUF6QyxFQU5tQztJQUFBLENBQXJDLENBSkEsQ0FBQTtBQUFBLElBWUEsRUFBQSxDQUFHLDRCQUFILEVBQWlDLFNBQUEsR0FBQTtBQUMvQixNQUFBLEtBQUEsQ0FBTSxJQUFDLENBQUEsTUFBUCxFQUFlLEtBQWYsQ0FBQSxDQUFBO0FBQUEsTUFFQSxJQUFDLENBQUEsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQXZCLENBQStCLGNBQS9CLENBRkEsQ0FBQTtBQUFBLE1BR0EsSUFBQyxDQUFBLElBQUksQ0FBQyxPQUFOLENBQUEsQ0FIQSxDQUFBO2FBS0EsTUFBQSxDQUFPLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBZixDQUFtQixDQUFDLEdBQUcsQ0FBQyxnQkFBeEIsQ0FBQSxFQU4rQjtJQUFBLENBQWpDLENBWkEsQ0FBQTtBQUFBLElBb0JBLEVBQUEsQ0FBRyw4QkFBSCxFQUFtQyxTQUFBLEdBQUE7QUFDakMsTUFBQSxLQUFBLENBQU0sSUFBQyxDQUFBLE1BQVAsRUFBZSxLQUFmLENBQUEsQ0FBQTtBQUFBLE1BQ0EsS0FBQSxDQUFNLElBQUMsQ0FBQSxJQUFQLEVBQWEsTUFBYixDQURBLENBQUE7QUFBQSxNQUdBLElBQUMsQ0FBQSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBdkIsQ0FBK0IsWUFBL0IsQ0FIQSxDQUFBO0FBQUEsTUFJQSxJQUFDLENBQUEsSUFBSSxDQUFDLE1BQU4sQ0FBQSxDQUpBLENBQUE7QUFBQSxNQU1BLE1BQUEsQ0FBTyxJQUFDLENBQUEsSUFBSSxDQUFDLElBQWIsQ0FBa0IsQ0FBQyxnQkFBbkIsQ0FBQSxDQU5BLENBQUE7YUFPQSxNQUFBLENBQU8sSUFBQyxDQUFBLE1BQU0sQ0FBQyxHQUFmLENBQW1CLENBQUMsR0FBRyxDQUFDLGdCQUF4QixDQUFBLEVBUmlDO0lBQUEsQ0FBbkMsQ0FwQkEsQ0FBQTtXQThCQSxFQUFBLENBQUcsMERBQUgsRUFBK0QsU0FBQSxHQUFBO0FBQzdELE1BQUEsS0FBQSxDQUFNLElBQUMsQ0FBQSxJQUFQLEVBQWEsUUFBYixDQUFBLENBQUE7QUFBQSxNQUVBLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBTixDQUFBLENBRkEsQ0FBQTtBQUFBLE1BR0EsSUFBQyxDQUFBLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUF2QixDQUFBLENBSEEsQ0FBQTthQUtBLE1BQUEsQ0FBTyxJQUFDLENBQUEsSUFBSSxDQUFDLE1BQWIsQ0FBb0IsQ0FBQyxnQkFBckIsQ0FBQSxFQU42RDtJQUFBLENBQS9ELEVBL0J5QjtFQUFBLENBQTNCLENBSkEsQ0FBQTtBQUFBIgp9

//# sourceURL=/Users/broberto/.atom/packages/run-command/spec/run-command-view-spec.coffee
